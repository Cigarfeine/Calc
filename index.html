<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <audio src="https://j.top4top.io/m_3045ivkgd0.mp3" autoplay controls></audio>
    <div class="calculator">
        <h1 style="text-align:center; color:#fff;">Calculator</h1>
        <p style="text-align:center; color:#fff;">This is a calculator. Please enter two numbers below and click "Calculate".</p>
        <input type="text" id="firstNumber" class="display" placeholder="Enter first number">
        <span style="font-size: 2em; color:#fff;"> + </span>
        <input type="text" id="secondNumber" class="display" placeholder="Enter second number">
        <button onclick="calculate()" style="width:100%;margin-top:10px;">Calculate</button>
        <div id="result" class="display" style="margin-top:15px; background:rgba(255,255,255,0.15); color:#34db3f;"></div>
        <div class="loading-spinner" style="margin:20px auto;"></div>
        <canvas class="slow-image" width="640" height="360" style="margin-top:20px;"></canvas>
    </div>
    <script>
    function calculate() {
        var firstNumber = document.getElementById("firstNumber").value;
        var secondNumber = document.getElementById("secondNumber").value;
        var resultDiv = document.getElementById("result");
        var spinner = document.querySelector('.loading-spinner');
        var slowImage = document.querySelector('.slow-image');
        resultDiv.textContent = '';
        resultDiv.style.color = '#34db3f'; // Always reset color
        slowImage.style.display = 'none';
        spinner.style.display = 'inline-block';
        var num1 = parseFloat(firstNumber);
        var num2 = parseFloat(secondNumber);
        if (isNaN(num1) || isNaN(num2)) {
            setTimeout(function() {
                spinner.style.display = 'none';
                resultDiv.style.color = 'red';
                resultDiv.textContent = 'Please enter valid numbers!';
            }, 1000);
            return;
        }
        setTimeout(function() {
            spinner.style.display = 'none';
            resultDiv.textContent = '';
            slowImage.style.display = 'block';
            loadSlowImage();
        }, 1500);
    }
    function loadSlowImage() {
        var img = new Image();
        img.src = "https://www.meme-arsenal.com/memes/8b955bf4c55ba0ae6f324087fd02777b.jpg";
        img.onload = function() {
            var canvas = document.querySelector('.slow-image');
            var ctx = canvas.getContext('2d');
            canvas.width = img.width;
            canvas.height = img.height;
            var imgWidth = img.width;
            var imgHeight = img.height;
            var chunkHeight = 1;
            var chunks = Math.ceil(imgHeight / chunkHeight);
            var currentChunk = 0;
            function drawChunk() {
                if (currentChunk >= chunks) {
                    return;
                }
                var y = currentChunk * chunkHeight;
                ctx.drawImage(img, 0, y, imgWidth, chunkHeight, 0, y, imgWidth, chunkHeight);
                currentChunk++;
                setTimeout(drawChunk, 5);
            }
            drawChunk();
        };
    }
    </script>
</body>
</html>

